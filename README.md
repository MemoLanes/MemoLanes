# MemoLanes(è¿¹å¿†) - OSS

## This Repository(æ­¤ä»“åº“)
This repository is where we develop the open source version of MemoLanes together with the community.
The open source version contains implementations for most core functionalities.
This source code is available to everyone under the standard MIT license.

[MemoLanes](https://app.memolanes.com/) is a distribution of this repository with our own customizations and optimizations.  

æœ¬ä»“åº“æ˜¯æˆ‘ä»¬ä¸ç¤¾åŒºå…±åŒå¼€å‘å¼€æºç‰ˆ è¿¹å¿† çš„åœ°æ–¹ã€‚
å¼€æºç‰ˆæœ¬åŒ…å«äº†å¤§éƒ¨åˆ†æ ¸å¿ƒåŠŸèƒ½çš„å®ç°ã€‚
æ­¤æºä»£ç ä¾æ®æ ‡å‡†çš„ MIT è®¸å¯è¯å‘æ‰€æœ‰äººå¼€æ”¾ã€‚

[è¿¹å¿†](https://app.memolanes.com/)æ˜¯åŸºäºæœ¬ä»“åº“æ‰“é€ çš„å®šåˆ¶å‘è¡Œç‰ˆï¼Œèåˆäº†æˆ‘ä»¬çš„é¢å¤–æ”¹è¿›ä¸ä¼˜åŒ–ã€‚


## MemoLanes(è¿¹å¿†)
<img src="./.github/app_screenshot.png" alt="App Screenshot" width="360">

[MemoLanes](https://app.memolanes.com/) is a route tracking application designed to conveniently record and securely store your travel footprints while providing rich visualization. Through continuous exploration of the world, you can create unique digital traces, allowing you to revisit and relive your treasured travel memories.

### Key features

- ğŸ—„ï¸ **Your Data Truly Belongs to You**
    - All journey data is securely stored on your device locallyã€‚
    - Open source project means open format. Nothing would stop you from coverting your data between different apps/tools. No lock-in!
- ğŸ’ª **Rich & Powerful Features**
    - Multi-Layer Support: Switch between your flights and paths on the ground.
    - TimeMachine: Watch your journeys evolve on using an interactive timeline.
    - And more!
- ğŸ§© **Future-Ready Architecture**
    - There are many awesome features in the roadmap. With well designed architecture, your existing data can get the full benefits of new features.
- â¤ï¸ **Build this app together**
    - Join the community, contribute to this app and make it the app you want.

---

[è¿¹å¿†](https://app.memolanes.com/)æ˜¯ä¸€æ¬¾è½¨è¿¹è®°å½•è½¯ä»¶ï¼Œä¸ä»…èƒ½ä¾¿æ·è®°å½•ã€å®‰å…¨å‚¨å­˜ä½ çš„è¶³è¿¹ï¼Œæ›´èƒ½ä»¥ä¸°å¯Œçš„å½¢å¼å¯è§†åŒ–æ—…é€”æ•°æ®ã€‚é€šè¿‡å¯¹ä¸–ç•Œçš„ä¸æ–­æ¢ç´¢ï¼Œä½ èƒ½ç•™ä¸‹ç‹¬ä¸€æ— äºŒçš„æ•°å­—å°è®°ï¼Œè¿½æº¯å±äºä½ çš„æ—…è¡Œå›å¿†ã€‚

### ä¸»è¦ç‰¹ç‚¹

- ğŸ—„ï¸ **ä½ çš„æ•°æ®å®Œå…¨å±äºä½ **
    - æ—…ç¨‹æ•°æ®å…¨éƒ¨å‚¨å­˜åœ¨ä½ çš„æœ¬åœ°è®¾å¤‡ä¸Šï¼Œç¡®ä¿å…¶å®‰å…¨æ€§ã€‚
    - å¼€æºé¡¹ç›®æ„å‘³ç€å¼€æ”¾çš„æ•°æ®æ ¼å¼ã€‚ä½ å¯ä»¥åœ¨å„ç§åº”ç”¨æˆ–å·¥å…·ä¹‹é—´è‡ªç”±åœ°è¿ç§»æ•°æ®ï¼Œæ²¡æœ‰ä»»ä½•é˜»ç¢ã€‚
- ğŸ’ª **ä¸°å¯Œä¸”å¼ºå¤§çš„åŠŸèƒ½**
    - å¤šå›¾å±‚ï¼šè‡ªç”±ç»„åˆã€åˆ‡æ¢èˆªè¿¹ä¸åœ°é¢æ•°æ®ã€‚
    - æ—¶å…‰æœºï¼šåœ¨æ—¶é—´è½´ä¸ŠæŸ¥çœ‹ä½ çš„è½¨è¿¹å˜åŒ–ã€‚
    - ä»¥åŠæ›´å¤šï¼
- ğŸ§© **æ˜“äºæ‰©å±•çš„æ¶æ„**
    - æ›´å¤šåŠŸèƒ½å·²åœ¨è·¯çº¿å›¾ä¸­ã€‚åŸºäºç²¾å¿ƒè®¾è®¡çš„åº•å±‚æ¶æ„ï¼Œç°æœ‰æ•°æ®å¯æ— ç¼é€‚é…æ–°åŠŸèƒ½å‡çº§ã€‚
- â¤ï¸ **å…±å»ºç”Ÿæ€**
    - åŠ å…¥å¼€å‘è€…ç¤¾åŒºï¼Œå‚ä¸åº”ç”¨å¼€å‘ï¼Œå…±åŒæ‰“é€ ç†æƒ³åº”ç”¨ã€‚



## Dev Env Setup
There are two main components of this app: 1. A rust library for the core logic; 2. a flutter project for the app itself. If you are only going to touch the rust core library then only 1 is required. However, working on the flutter project requires a full setup.

### 1. Rust Core Library Setup
1. Install [Rust](https://www.rust-lang.org/tools/install).
2. Install [protobuf](https://grpc.io/docs/protoc-installation/).
3. Install `just`. You can do it with `cargo install just` or use other package manager mentioned [here](https://just.systems/man/en/packages.html).
4. Go to `/app/rust` folder.
5. (If you are downgrading from a full setup, delete `src/frb_generated.rs` if it exists).
6. Run relevant cargo command to make sure the setup is completed (e.g. `cargo check`, `cargo test`).

### 3. Fultter Setup
1. Install [Flutter](https://docs.flutter.dev/get-started/install).
2. Install [flutter_rust_bridge](https://cjycode.com/flutter_rust_bridge/quickstart). It is recommnad install the specific version that this project is using by `cargo install 'flutter_rust_bridge_codegen@2.9.0'`. The real version can be found using `just get-frb-version` or looking at `app/pubspec.yaml`.
3. Install [yarn](https://yarnpkg.com/getting-started/install).
4. Go to `/app` folder.
5. Create `.env` file and put the Mapbox token in it. An example can be found in `.env.example`.
6. Running pre-build via `just pre-build`. Note that this need to be reran every time rust api or journey kernel is updated.
7. Start the app via `flutter run`.
8. `just` provides many useful commnads, e.g. `just format`, `just check`, `just test`. Consider run those before opening/updating PRs.
